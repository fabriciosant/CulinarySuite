<p style="color: green"><%= notice %></p>

<% content_for :title, "C tipo pagamentos" %>

<h1 class="text-secondary text-center">Tipo de pagamentos</h1>

<div id="c_tipos_pagamentos">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Descrição</th>
        <th scope="col">Ações</th>
      </tr>
    </thead>
    <tbody id="c_tipos_pagamentos_body">
      <% @c_tipos_pagamentos.each do |c_tipo_pagamento| %>
        <tr>
          <td>
            <%= c_tipo_pagamento.descricao %>
          </td>
          <td colspan="2">
            <p>
              <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                <div class="btn-group" role="group">
                  <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-gear"></i>
                  </button>
                  <% @c_tipos_pagamentos.each do |c_tipo_pagamento| %>
                      <ul class="dropdown-menu">
                        <li><%= link_to "Editar", edit_c_tipo_pagamento_path(c_tipo_pagamento), class: "dropdown-item" %></li>
                        <li><hr class="dropdown-divider"></li>
                        <button type="button" class="dropdown-item link-danger link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" 
                                data-bs-toggle="modal" 
                                data-bs-target="#deleteModal-<%= c_tipo_pagamento.id %>">
                          Deletar
                        </button>
                      </ul>
                    <% end %>
                </div>
              </div>
            </p>
          </td>
        </tr>

        <!-- Modal para Exclusão -->
        <div class="modal fade" id="deleteModal-<%= c_tipo_pagamento.id %>" tabindex="-1" aria-labelledby="deleteModalLabel-<%= c_tipo_pagamento.id %>" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="deleteModalLabel-<%= c_tipo_pagamento.id %>">Deletar Tipo de Pagamento</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Deseja realmente deletar o tipo de pagamento "<%= c_tipo_pagamento.descricao %>"?
                <br>
                <p class="text-secondary">Esta ação não pode ser desfeita!</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cancelar</button>
                <%= button_to "Deletar", c_tipo_pagamento_path(c_tipo_pagamento), method: :delete, class: "btn btn-danger" %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </tbody>
  </table>
</div>

<%= link_to "Criar tipo de pagamento", new_c_tipo_pagamento_path, class:"btn btn-success" %>
